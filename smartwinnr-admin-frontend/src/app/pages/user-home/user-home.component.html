<h3>User Dashboard</h3>
<p class="text-muted">Your personal activity overview and preferences.</p>

<!-- small form for sports interests -->
<div class="card mb-4">
  <div class="card-body">
    <h5 class="card-title">Your Sports Interests</h5>
    <form (ngSubmit)="submitInterest()" #f="ngForm" class="row g-2 align-items-end">
      <div class="col-12 col-md-5">
        <label class="form-label">Favorite Sport</label>
        <input
          type="text"
          class="form-control"
          name="sport"
          [(ngModel)]="sport"
          required
          placeholder="e.g. Cricket, Football"
        />
      </div>
      <div class="col-12 col-md-3">
        <label class="form-label">Level</label>
        <select class="form-select" name="level" [(ngModel)]="level">
          <option>Beginner</option>
          <option>Intermediate</option>
          <option>Advanced</option>
        </select>
      </div>
      <div class="col-12 col-md-2 d-grid">
        <button
          class="btn btn-primary"
          type="submit"
          [disabled]="f.invalid || savingInterest"
        >
          {{ savingInterest ? 'Saving...' : 'Save' }}
        </button>
      </div>
      <div class="col-12 mt-2" *ngIf="interestMessage">
        <small class="text-muted">{{ interestMessage }}</small>
      </div>
    </form>
  </div>
</div>

<div *ngIf="loading" class="alert alert-info">Loading your data...</div>

<div *ngIf="summary" class="row g-3 mb-4">
  <div class="col-12 col-md-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h6>Total Sessions</h6>
        <h3>{{ summary.totalSessions }}</h3>
      </div>
    </div>
  </div>

  <div class="col-12 col-md-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h6>Total Points</h6>
        <h3>{{ summary.totalPoints }}</h3>
      </div>
    </div>
  </div>

  <div class="col-12 col-md-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h6>Days Tracked</h6>
        <h3>{{ summary.daysTracked }}</h3>
      </div>
    </div>
  </div>
</div>

<div class="row g-3">
  <div class="col-12 col-lg-6">
    <div class="card shadow-sm">
      <div class="card-body">
        <h6>Sessions (Last 7 Days)</h6>
        <pre class="small text-muted">
{{ sessionsLabels }} -> {{ sessionsData }}</pre
        >
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-6">
    <div class="card shadow-sm">
      <div class="card-body">
        <h6>Points (Last 7 Days)</h6>
        <pre class="small text-muted">
{{ pointsLabels }} -> {{ pointsData }}</pre
        >
      </div>
    </div>
  </div>
</div>
